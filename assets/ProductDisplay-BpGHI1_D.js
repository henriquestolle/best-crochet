import{u,r as c,S as x,a as i,j as s,L as j}from"./index-1vHg_NZH.js";import{N}from"./Navbar-BYiSkZyG.js";import{F as f}from"./Footer-D92JJcOg.js";const C=()=>{const{productId:o}=u(),{addToCart:t}=c.useContext(x),[n,d]=c.useState(!1),r=parseInt(o),e=i.find(a=>a.id===r),l=a=>{e.qnt>0&&(t(a),d(!0),setTimeout(()=>{d(!1)},2e3))};c.useEffect(()=>{window.scrollTo(0,0)},[o]);const p=i.filter(a=>a.id!==r),m=((a,h)=>[...a].sort(()=>.5-Math.random()).slice(0,h))(p,2);return s.jsxs("div",{className:"product-display",children:[s.jsx(N,{}),e&&s.jsxs("div",{className:"product-display-info",children:[s.jsxs("nav",{className:"breadcrumb",children:[s.jsx("span",{children:"Início"})," > ",s.jsx("span",{children:"Bolos"})," >"," ",s.jsx("span",{children:e.name})]}),s.jsxs("div",{className:"product-container",children:[s.jsx("img",{className:"product-img-display",src:e.img,alt:"Imagem do Produto"}),s.jsxs("div",{className:"product-details-section",children:[s.jsx("h1",{className:"product-name",children:e.name}),s.jsxs("p",{className:"color-detail",children:["Cor: ",e.color]}),s.jsxs("p",{className:"price",children:["R$",e.new_price," ",s.jsx("span",{className:"span-detail-old-price",children:e.old_price})]}),s.jsxs("p",{className:"price",children:["Em Estoque: ",e.qnt]}),e.qnt>0?s.jsx("button",{className:"buy-button in-stock",onClick:()=>l(e.id),children:"Adicionar à Sacola"}):s.jsx("p",{className:"out-of-stock",children:"Esgotado"}),s.jsxs("div",{className:"description",children:[s.jsx("h2",{children:"Descrição"}),s.jsx("p",{children:e.description})]})]})]}),s.jsx("hr",{className:"separator"}),s.jsxs("div",{className:"related-products",children:[s.jsx("h2",{children:"Produtos Relacionados"}),s.jsx("div",{className:"products-list",children:m.map(a=>s.jsx("div",{className:"product-card-releted",children:s.jsxs(j,{to:`/product/${a.id}`,onClick:()=>window.scrollTo(0,0),children:[s.jsx("img",{src:a.img,alt:a.name}),s.jsx("p",{children:a.name}),s.jsxs("p",{className:"price",children:["R$",a.new_price]}),a.qnt>0?s.jsx("button",{className:"buy-button-related",children:"Comprar"}):s.jsx("p",{className:"out-of-stock",children:"Esgotado"})]})},a.id))})]})]}),n&&s.jsx("div",{className:"popup",children:s.jsx("p",{children:"Item adicionado ao carrinho!"})}),s.jsx(f,{})]})};export{C as default};
