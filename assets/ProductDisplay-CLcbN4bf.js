import{u as h,r as c,S as x,a as t,j as s,L as j}from"./index-B-boa7uA.js";import{N}from"./Navbar-ClZMIbUw.js";import{F as f}from"./Footer-DbWw7cEX.js";const C=()=>{const{productId:o}=h(),{addToCart:i}=c.useContext(x),[n,r]=c.useState(!1),d=parseInt(o),a=t.find(e=>e.id===d),l=e=>{a.qnt>0&&(i(e),r(!0),setTimeout(()=>{r(!1)},2e3))};c.useEffect(()=>{window.scrollTo(0,0)},[o]);const p=t.filter(e=>e.id!==d),m=((e,u)=>[...e].sort(()=>.5-Math.random()).slice(0,u))(p,2);return s.jsxs("div",{className:"product-display",children:[s.jsx(N,{}),a&&s.jsxs("div",{className:"product-display-info",children:[s.jsxs("nav",{className:"breadcrumb",children:[s.jsx("span",{children:"Início"})," > ",s.jsx("span",{children:"Bolos"})," >"," ",s.jsx("span",{children:a.name})]}),s.jsxs("div",{className:"product-container",children:[s.jsx("img",{className:"product-img-display",src:a.img,alt:"Imagem do Produto"}),s.jsxs("div",{className:"product-details-section",children:[s.jsx("h1",{className:"product-name",children:a.name}),s.jsxs("p",{className:"price",children:["R$",a.new_price]}),s.jsxs("p",{className:"price",children:["Em Estoque: ",a.qnt]}),a.qnt>0?s.jsx("button",{className:"buy-button in-stock",onClick:()=>l(a.id),children:"Comprar"}):s.jsx("p",{className:"out-of-stock",children:"Esgotado"}),s.jsxs("div",{className:"description",children:[s.jsx("h2",{children:"Descrição"}),s.jsx("p",{children:a.description})]})]})]}),s.jsx("hr",{className:"separator"}),s.jsxs("div",{className:"related-products",children:[s.jsx("h2",{children:"Produtos Relacionados"}),s.jsx("div",{className:"products-list",children:m.map(e=>s.jsx("div",{className:"product-card-releted",children:s.jsxs(j,{to:`/product/${e.id}`,onClick:()=>window.scrollTo(0,0),children:[s.jsx("img",{src:e.img,alt:e.name}),s.jsx("p",{children:e.name}),s.jsxs("p",{className:"price",children:["R$",e.new_price]}),e.qnt>0?s.jsx("button",{className:"buy-button-related",children:"Comprar"}):s.jsx("p",{className:"out-of-stock",children:"Esgotado"})]})},e.id))})]})]}),n&&s.jsx("div",{className:"popup",children:s.jsx("p",{children:"Item adicionado ao carrinho!"})}),s.jsx(f,{})]})};export{C as default};
