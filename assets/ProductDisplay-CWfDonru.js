import{u as h,r as o,S as x,a as n,j as s,L as j}from"./index-Dt4Dy297.js";import{N}from"./Navbar-BtNlLO7S.js";import{F as f}from"./Footer-DnOjtiwd.js";const w=()=>{const{productId:i}=h(),{addToCart:l}=o.useContext(x),[p,r]=o.useState(!1),d=parseInt(i),a=n.find(e=>e.id===d),t=e=>{a.qnt>0&&(l(e),r(!0),setTimeout(()=>{r(!1)},2e3))};o.useEffect(()=>{window.scrollTo(0,0)},[i]);const m=n.filter(e=>e.id!==d),u=((e,c)=>[...e].sort(()=>.5-Math.random()).slice(0,c))(m,2);return s.jsxs("div",{className:"product-display",children:[s.jsx(N,{}),a&&s.jsxs("div",{className:"product-display-info",children:[s.jsxs("nav",{className:"breadcrumb",children:[s.jsx("span",{children:"Início"})," > ",s.jsx("span",{children:"Bolos"})," >"," ",s.jsx("span",{children:a.name})]}),s.jsxs("div",{className:"product-container",children:[s.jsx("img",{className:"product-img-display",src:a.img,alt:"Imagem do Produto"}),s.jsxs("div",{className:"product-details-section",children:[s.jsx("h1",{className:"product-name",children:a.name}),s.jsxs("p",{className:"price",children:["R$",a.new_price]}),s.jsxs("p",{className:"price",children:["Em Estoque: ",a.qnt]}),s.jsx("button",{className:`buy-button ${a.qnt<=0?"out-of-stock":"in-stock"}`,onClick:()=>t(a.id),disabled:a.qnt<=0,children:"Comprar"}),s.jsxs("div",{className:"description",children:[s.jsx("h2",{children:"Descrição"}),s.jsx("p",{children:a.description})]})]})]}),s.jsx("hr",{className:"separator"}),s.jsxs("div",{className:"related-products",children:[s.jsx("h2",{children:"Produtos Relacionados"}),s.jsx("div",{className:"products-list",children:u.map(e=>s.jsx("div",{className:"product-card",children:s.jsxs(j,{to:`/product/${e.id}`,onClick:()=>window.scrollTo(0,0),children:[s.jsx("img",{src:e.img,alt:e.name}),s.jsx("p",{children:e.name}),s.jsxs("p",{className:"price",children:["R$",e.new_price]}),s.jsx("button",{className:"buy-button",onClick:c=>{c.preventDefault(),t(e.id)},children:"Comprar"})]})},e.id))})]})]}),p&&s.jsx("div",{className:"popup",children:s.jsx("p",{children:"Item adicionado ao carrinho!"})}),s.jsx(f,{})]})};export{w as default};
